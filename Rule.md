# 個人ブログ"aonisum" Cursor使用時のプロンプトルール

## プロジェクト概要
- **プロジェクト名**: aonisum（個人ブログ）
- **目的**: SNSの制約から解放された、ユーザーの世界観を表現するプラットフォーム
- **技術スタック**: Astro + TypeScript + CSS

## AIアシスタントの役割と制限

### 主要な役割
- **コード生成**: 新しい機能やコンポーネントの実装
- **コード修正**: 既存コードのバグ修正や改善
- **コードレビュー**: コードの品質チェックと改善提案
- **設計支援**: アーキテクチャや設計の相談
- **学習支援**: 技術的な質問への回答

### 制限事項
- **既存ファイルの大幅変更**: 現在のファイル構造を大きく変更しない
- **デザインの大幅変更**: 現在のデザイン方針を大きく変更しない
- **技術スタックの変更**: Astro + TypeScript + CSSから変更しない
- **機能の追加**: 要件定義にない機能を勝手に追加しない
- **ファイルの削除**: 既存のファイルを勝手に削除しない
- **Rule.mdの無視**: Rule.mdに記載されている内容を絶対に無視しない
- **ハルシネーション**: 絶対に起こさない
- **推論実装**: 推論に基づいた実装をしない（推論する場合は明記）
- **情報源の優先順位**: 公式ドキュメントを1次ソース、Qiita/Zenn/Stackoverflow等を2次ソースとして扱う
- **実績コードの精査**: 信頼性の高いコードでも現在のコードとの兼ね合いを精査し、競合する場合は比較検討
- **過去の失敗修正**: ユーザーが「うまくいかなかった」と判断した修正を繰り返さない
- **強制的変更**: 強制的な変更や実装を避ける
- **冗長コード**: 冗長的なコードにならないようにする
- **ネスト制限**: コードのネストは最深2層まで、それ以外は外部化やコンポーネント化
- **ファイル分割**: 機能で分けるが、分けすぎて増やしすぎない
- **命名規則**: ぱっと見でわかりやすく、類似名称を避け、累次はナンバリング
- **コメント**: 最小限にとどめる
- **可読性**: 初心者でも可読性の高いコードにする

## 開発時の指示事項

### 指示の受け方
- **構造化された指示**: ユーザーから構造化された指示を受ける
- **優先順位**: 都度指示は変わるため、優先順位は設定しない
- **詳細度**: 構造化された指示により詳細度は適切に設定される

### 確認方法
- **基本**: 実装後にユーザーがチェック
- **大規模**: 段階的に確認
- **ロールバック**: うまくいかない場合は前の実装にロールバック

## コード生成ルール

### 品質基準
- **可読性最優先**: 初心者でも理解しやすいコード
- **バランス重視**: 可読性、保守性、パフォーマンスのバランス

### コメント
- **最小限**: 必要最小限のコメントのみ
- **詳細**: 変数や関数が多くて読みづらい部分のみ詳細にコメント

### エラーハンドリング
- **デバッグログ**: バグが生じて躓いている箇所を明らかにしたい時のみ出力
- **try-catch**: 使用しても良いが、簡潔に
- **成功時**: デバッグログは出力しない

## ファイル操作ルール

### ファイル作成・削除
- **ファイル作成**: 自由に行って構わない
- **ファイル削除**: 勝手な削除は厳禁、必ずユーザーの許可を取る

### ファイル編集方法
- **部分編集**: 必要最低限の部分のみを編集
- **依存関係確認**: 他のファイルとの依存関係や関連性を走査したうえで編集
- **段階的編集**: 修正量が多い場合は段階的に編集

### ファイル名・ディレクトリ構造
- **機能別整理**: 機能別にディレクトリを整理
- **import修正**: 整理によりimportに影響が出る場合は、正しくimportを修正

## エラー対応ルール

### エラー分析の方法（優先順位順）
1. **外部リソース確認**: 公式ドキュメント等を確認
2. **エラーメッセージ解析**: エラーメッセージを詳しく分析
3. **段階的デバッグ**: 問題を小さな単位に分割して調査
4. **コードレビュー**: 関連するコードを詳しく確認
- **説明方法**: ユーザーの学びにつながるよう、わかりやすく丁寧で、面白い例を取り入れながら楽しめるように説明

### 解決策の提示方法
- **根本原因分析**: 原則として根本原因を特定してから解決策提示
- **複数選択肢**: 根本的すぎて大幅なファイル変更が生じる場合は複数の選択肢を提示

### 再発防止
- **コード改善**: 基本としてエラーが起きにくいコードに改善
- **コメント追加**: エラーの原因をコメントで記録し、再発防止に努める

## 完了条件
- [x] AIアシスタントの役割と制限の定義
- [x] 開発時の指示事項の明確化
- [x] コード生成ルールの策定
- [x] ファイル操作ルールの策定
- [x] エラー対応ルールの策定
